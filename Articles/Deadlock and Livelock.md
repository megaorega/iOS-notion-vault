# Quick hints
---
#tbd



# Abstract
---
## Deadlock
__Deadlock__ это ситуация, когда несколько процессов взаимно блокируют друг друга, ожидая доступа к одному ресурсу. Это возможно только когда доступ к ресурсу эксклюзивный, то есть один объект может быть занят только одним процессом.

### How to make deadlock
Простейший код для реализации дэдлока:
```swift
DispatchQueue.main.async {
	DispatchQueue.main.sync {
		print("Hello, it will never be printed")
	}
}
```



## Livelock
### How to make livelock?
#tbd 



## Lock, Mutex and Semaphores
__Mutex__ это _mutually exclusive_. Специальная конструкция, которая блокирует доступ к ресурсу, пока он занят каким-то потоком. 
В ObjC и Swift mutex это простейшая разновидность lock. `NSLock` это простейший lock/mutex в iOS. 

`NSLock` имеет особенность – у него есть _владелец_. Владелец обязан открыть `NSLock` после использования ресурса. Кроме него `NSLock` никто снять не может. Если попытаться разблокировать `NSLock` из другого потока, то произойдет undefined behaviour (так написано в документации).

`NSRecursiveLock`  позволяет заблокировать один и тот же замок несколько раз, но разблокирован он должен быть ровно такое же количество раз, иначе доступ к ресурсу будет получить нельзя. #tbd

`DispatchSemaphore` это семафоры в iOS

### Отличия семафора и мьютекса:
- Семафор может позволить доступ к ресурсу _нескольким потокам_, а не только одному
- Семафор может быть разблокирован из _любого потока_, а не только того, который изначально заблокировал ресурс. У семафора нет понятия _владельца_.

### Возможные проблемы:
- Deadlock, если попробовать заблокировать уже заблокированный `NSLock`
- 



# Questions
---
#need_research/development 
- [ ] Найти пример кода, который показывает, как ставить эти `NSLock`, мьютексы и `DispatchSemaphore`



# Learning materials
---
## Articles & Links
- 
## Videos:
- [Mad Brains explanation](https://youtu.be/pWXgH-GbRSU?t=1712)